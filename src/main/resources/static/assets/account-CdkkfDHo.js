import{_ as f,c as h,o as c,h as _,f as s,b as l,d as n,e as w,E as i,g as V}from"./index-oqa1SwAd.js";const g={data(){return{user:JSON.parse(localStorage.getItem("user")).user,password:"",email:"",name:""}},methods:{submit(){w.post("/user/changeInfo",{id:this.user.id,email:this.email,password:this.password}).then(a=>{if(a.data.status==200){console.log(a.data.data),this.user=a.data.data,this.name=this.user.name,this.email=this.user.email,this.password=this.user.password,i("Success");var e={user:this.user};localStorage.setItem("user",JSON.stringify(e))}else i(a.data.message)})}},created(){this.user=JSON.parse(localStorage.getItem("user")).user,this.name=this.user.name,this.email=this.user.email,this.password=this.user.password}};function b(a,e,x,S,t,d){const u=n("el-input"),r=n("el-form-item"),m=n("el-button"),p=n("el-form");return c(),h("div",null,[e[4]||(e[4]=_("h2",null,"账号设置",-1)),s(p,{"label-width":"100px",style:{width:"500px"}},{default:l(()=>[s(r,{label:"用户名"},{default:l(()=>[s(u,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.name=o),disabled:""},null,8,["modelValue"])]),_:1}),s(r,{label:"密码"},{default:l(()=>[s(u,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),placeholder:"新密码",type:"password"},null,8,["modelValue"])]),_:1}),s(r,{label:"邮箱"},{default:l(()=>[s(u,{modelValue:t.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t.email=o),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),s(r,null,{default:l(()=>[s(m,{type:"primary",onClick:d.submit},{default:l(()=>e[3]||(e[3]=[V("保存")])),_:1},8,["onClick"])]),_:1})]),_:1})])}const y=f(g,[["render",b]]);export{y as default};
