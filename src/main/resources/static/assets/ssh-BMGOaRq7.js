import{_,c as y,o as f,h,f as s,b as a,d as l,e as u,E as o,g as b}from"./index-CL2Ozjlc.js";const K={data(){return{publicKey:"",user:JSON.parse(localStorage.getItem("user")).user,key:null}},props:{},methods:{submit(){u.post("/ssh/createPublicKey",{creatorId:this.user.id,publicKey:this.publicKey}).then(e=>{e.data.status==200?(o("Success"),this.getUserKey()):o(e.data.message)})},getUserKey(){u.post("/ssh/getUserKey/"+this.user.id).then(e=>{e.data.status==200?(this.key=e.data.data,this.publicKey=e.data.data.publicKey):o(e.data.message)})}},created(){this.getUserKey()}};function g(e,t,x,k,r,i){const p=l("el-input"),n=l("el-form-item"),d=l("el-button"),c=l("el-form");return f(),y("div",null,[t[2]||(t[2]=h("h2",null,"公钥设置",-1)),s(c,{"label-width":"100px",style:{width:"600px",height:"500px"}},{default:a(()=>[s(n,{label:"公钥"},{default:a(()=>[s(p,{type:"textarea",modelValue:r.publicKey,"onUpdate:modelValue":t[0]||(t[0]=m=>r.publicKey=m),placeholder:"支持ssh-rsa开头",rows:"5"},null,8,["modelValue"])]),_:1}),s(n,null,{default:a(()=>[s(d,{type:"primary",onClick:i.submit},{default:a(()=>t[1]||(t[1]=[b("保存")])),_:1},8,["onClick"])]),_:1})]),_:1})])}const U=_(K,[["render",g]]);export{U as default};
